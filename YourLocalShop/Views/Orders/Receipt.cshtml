@model YourLocalShop.Models.Order
@{
    ViewData["Title"] = "Receipt";
}

<h1 class="mb-3">Order Receipt</h1>

<p class="alert alert-success">
    Payment Successful! Thank you for Your Purchase!
</p>

<ul>
    <li><strong>Receipt ID:</strong> @(string.IsNullOrEmpty(Model.ReceiptId) ? "Pending" : Model.ReceiptId)</li>
    <li><strong>Date:</strong> @Model.OrderDate.ToString("dd MMM yyyy")</li>
    <li><strong>Order ID:</strong> @Model.Id</li>
    <li><strong>Name:</strong> @Model.Customer.FirstName @Model.Customer.LastName</li>
    <li><strong>Address:</strong>
        @(string.IsNullOrEmpty(Model.Customer.Address.UnitNumber) ? "" : $"Unit {Model.Customer.Address.UnitNumber}, ")
        @Model.Customer.Address.StreetNumber @Model.Customer.Address.StreetName,
        @Model.Customer.Address.City, @Model.Customer.Address.State @Model.Customer.Address.PostCode,
        @Model.Customer.Address.Country
    </li>
</ul>

<h3>Order Details</h3>
<table class="table align-middle">
    <thead>
    <tr>
        <th>Product</th>
        <th class="text-end">Unit price</th>
        <th class="text-end">Quantity</th>
        <th class="text-end">Subtotal</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var item in Model.Items)
    {
        <tr>
            <td>@item.Name</td>
            <td class="text-end">@item.UnitPrice.ToString("C")</td>
            <td class="text-end">@item.Quantity</td>
            <td class="text-end">@item.Subtotal.ToString("C")</td>
        </tr>
    }
    </tbody>
    <tfoot>
    <tr>
        <th colspan="3" class="text-end">Total</th>
        <th class="text-end">@Model.Total.ToString("C")l</th>
    </tr>
    </tfoot>
</table>

<div class="mt-4">
    <a asp-controller="Home" asp-action="Index" class="btn btn-primary">Go back to Home</a>
</div>